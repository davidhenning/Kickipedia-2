{% include 'header.twig' with {'title': 'Liste'} %}

{% set paginationSnippet %}
    {% if pagination.totalPages > 0 %}
        {% set pageLimiter = 3 %}
        {% spaceless %}
            <ul class="pagination">          
                <li class="info">
                    Seite {{ pagination.currentPage }} von {{ pagination.totalPages }}
                </li>
                {% if pagination.firstPageUrl and pagination.currentPage - pageLimiter > 0 %}
                    <li><a href="{{ pagination.firstPageUrl }}">&laquo;</a></li>
                {% endif %}

                {% if pagination.prevPageUrl %}
                    <li><a href="{{ pagination.prevPageUrl }}">&lt;</a></li>
                {% endif %}

                {% for page in pagination.pages %}
                    {% if page.nr > (pagination.currentPage - pageLimiter) and page.nr < (pagination.currentPage + pageLimiter) %}
                        <li {% if page.active == true %}class="active"{% endif %}>
                            <a href="{{ page.url }}">{{ page.nr }}</a> 
                        </li>
                    {% endif %}
                {% endfor %}

                {% if pagination.nextPageUrl %}
                    <li><a href="{{ pagination.nextPageUrl }}">&gt;</a></li>
                {% endif %}

                {% if pagination.lastPageUrl and (pagination.totalPages - pageLimiter) >= pagination.currentPage %}
                    <li><a href="{{ pagination.lastPageUrl }}">&raquo;</a></li>
                {% endif %}
            </ul>
        {% endspaceless %}
    {% endif %}
{% endset %}

<nav id="typeNavigation">
    <ul>
        <li><a href="/entry/list/type/1">Type 1</a></li>
        <li><a href="/entry/list/type/2">Type 2</a></li>
    </ul>
</nav>

{{ paginationSnippet }}

<table id="entryList">
    <tr>
        <th>Datum:</th>
        <th>Name:</th>
        <th>IP:</th>
        <th>Grund:</th>
    </tr>
    {% for entry in entries %}
        <tr>
            <td>{{ entry.createdOn|date("d.m.Y") }}</td>
            <td><a href="/entry/{{ entry._id }}/edit">{{ entry.name }}</a></td>
            <td>{{ entry.ip }}</td>
            <td>{{ entry.reason }}</td>
        </tr>
    {% endfor %}
</table>

{{ paginationSnippet }}

{% include 'footer.twig' %}
